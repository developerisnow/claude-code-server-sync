# Claude Code Sync ‚Äì Requirements & QA

## ‚úÖ Prerequisites
- [ ] –†–∞–±–æ—á–∏–π SSH –∞–ª–∏–∞—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `eywa1`) –∏ –¥–æ—Å—Ç—É–ø –ø–æ –∫–ª—é—á—É.
- [ ] `rsync` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ macOS –∏ —Å–µ—Ä–≤–µ—Ä–µ (–¥–µ—Ñ–æ–ª—Ç–Ω–æ –µ—Å—Ç—å).
- [ ] Python 3.9+ –Ω–∞ macOS.
- [ ] –ö–æ–Ω—Ñ–∏–≥ `config.json` —Å–æ–∑–¥–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ `examples/config.example.json`.

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- [ ] –ö–æ–º–∞–Ω–¥–∞ `list` –≤—ã–≤–æ–¥–∏—Ç –ø—Ä–æ–µ–∫—Ç—ã —Å –ø—É—Ç—è–º–∏.
- [ ] –ö–æ–º–∞–Ω–¥–∞ `pull <project>` –∫–∞—á–∞–µ—Ç `.jsonl` —Å —Å–µ—Ä–≤–µ—Ä–∞, –ø—Ä–∞–≤–∏—Ç –ø—É—Ç–∏ –∏ –∫–ª–∞–¥—ë—Ç –≤ `<macos_root>/<macos_dir>`.
- [ ] –ö–æ–º–∞–Ω–¥–∞ `push <project>` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º).
- [ ] –ö–æ–º–∞–Ω–¥–∞ `sync-all` –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –≤—Å–µ–º –ø—Ä–æ–µ–∫—Ç–∞–º —Å `mode: pull|both`.
- [ ] `--dry-run` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–∫–∏–¥—ã–≤–∞–µ—Ç—Å—è –≤ `rsync` –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã.

## üîÑ Path Mapping
- [ ] `rewrite_rules` –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –≤—Å–µ–º `.jsonl` (—Å–µ—Ä–≤–µ—Ä ‚Üí –º–∞–∫).
- [ ] –ü—Ä–∏ push –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ –æ–±—Ä–∞—Ç–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É.
- [ ] –î–ª–∏–Ω–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è (–±–æ–ª–µ–µ –¥–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏–¥—É—Ç –ø–µ—Ä–≤—ã–º–∏).

## üîÅ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- [ ] `scripts/sync-all.sh` –≤—ã–∑—ã–≤–∞–µ—Ç `python3 src/sync.py sync-all`.
- [ ] LaunchAgent plist –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç —Ä–∞–∑ –≤ 5 –º–∏–Ω—É—Ç.
- [ ] –°–∫—Ä–∏–ø—Ç –∏ plist –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—É—Ç–∏, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–ª—è macOS.

## üß™ QA —á–µ–∫-–ª–∏—Å—Ç
1. [ ] `python3 src/sync.py list` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã.
2. [ ] `python3 src/sync.py --dry-run pull <project>` ‚Äî –≤–∏–¥–Ω–æ, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∑–∞—Ç—Ä–æ–Ω–µ—Ç rsync.
3. [ ] `python3 src/sync.py pull <project>` ‚Äî —Ñ–∞–π–ª—ã –æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ —Ü–µ–ª–µ–≤–æ–π –ø–∞–ø–∫–µ, –ø—É—Ç–∏ –≤–Ω—É—Ç—Ä–∏ –∑–∞–º–µ–Ω–µ–Ω—ã.
4. [ ] –ü–æ–¥–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫—É –≤ `.jsonl` –∏ –ø—Ä–æ–≥–Ω–∞—Ç—å `push` ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –∫–æ–ø–∏—è –ø–æ–ª—É—á–∏–ª–∞ –æ–±—Ä–∞—Ç–Ω—É—é –∑–∞–º–µ–Ω—É.
5. [ ] `scripts/sync-all.sh --dry-run` ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç `sync-all` –±–µ–∑ –æ—à–∏–±–æ–∫.

## üêõ Troubleshooting
- [ ] SSH: `ssh -v eywa1 ls ~/.claude/projects` –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å –ø—Ä–æ–±–ª–µ–º—É.
- [ ] –ü–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—å `config.json`: –ø—É—Ç—å `server_root`, `macos_root`, –Ω–∞–∑–≤–∞–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Å–ª–µ—à–µ–π.
- [ ] –°–º. –ª–æ–≥–∏ LaunchAgent: `tail -f ~/logs/claude-sync.log`.
- [ ] –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã ‚Äî `/var/folders/.../claude-sync-*/` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–∏—Å—Ç—è—Ç—Å—è).
